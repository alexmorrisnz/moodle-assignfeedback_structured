define(["jquery","core/notification","core/str","core/templates","core/modal_factory","core/modal_events"],function(a,b,c,d,e,f){var g,h={init:function(h,i){var j="";c.get_string("criteriasetsmanage","assignfeedback_structured").then(function(c){j=c;var k={contextId:h,criteriaSets:i},l=d.render("assignfeedback_structured/criteriasetsmanage",k);if(g)g.setBody(l),g.show();else{var m=a("#id_assignfeedback_structured_critsetsmanage");e.create({title:j,body:l,type:e.types.CANCEL,large:!1},m).done(function(a){g=a,m.click(function(){g.show()}),a.getRoot().on(f.hidden,function(){b.fetchNotifications()})})}})}};return h});